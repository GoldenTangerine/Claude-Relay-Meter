# 更新日志

所有关于此项目的重要更改都将记录在此文件中。

## [1.0.2] - 2025-10-11

### 🌐 新增
- ✨ **完整的国际化支持 (i18n)**
  - 支持中文和英文界面
  - 新增语言选择命令：`Select Language / 选择语言`
  - 新增配置项：`relayMeter.language`
  - 所有用户可见文本支持多语言
  - 实时语言切换，无需重启

### 🛠️ 技术改进
- 实现完整的 i18n 系统（参照 cursor-stats 设计）
- 新增 `src/interfaces/i18n.ts` - 语言包类型定义
- 新增 `src/utils/i18n.ts` - 国际化工具
- 新增 `src/locales/zh.json` 和 `en.json` - 语言包
- 翻译函数 `t()` 支持嵌套键和参数替换
- 自动回退到中文（如果翻译缺失）

### 🐛 修复
- 修复扩展加载失败问题（asynckit 模块找不到）
- 修复输出通道不显示在下拉列表的问题
- 修复未配置时状态栏不显示的问题
- 优化依赖打包策略，确保所有嵌套依赖被正确包含

### 📦 构建优化
- 编译脚本自动复制语言包文件到 `out/locales/`
- 新增 `npm run copy-locales` 命令
- 移除 `.vscodeignore` 中的 node_modules 白名单限制

### 📝 文档更新
- 更新 `CLAUDE.md` - 添加国际化章节
- 新增 `UPDATE_NOTES_v1.0.2.md` - 详细更新说明
- 更新文件组织结构文档
- 添加如何添加新语言的指南

---

## [1.0.0] - 2025-10-11

### 新增功能
- ✅ 实现基本的用量监控功能
- ✅ 支持从 Claude Relay Service API 获取用量数据
- ✅ 在 VSCode 状态栏实时显示费用使用情况
- ✅ 支持智能颜色提示（绿/黄/红）
- ✅ 鼠标悬停显示详细的费用信息
  - 每日费用限制及使用情况
  - 总费用限制及使用情况
  - Opus 模型周费用限制及使用情况
- ✅ 支持自动定时刷新（默认 60 秒，可配置）
- ✅ 支持手动刷新统计数据
- ✅ 支持自定义 API URL 和 API ID
- ✅ 支持自定义刷新间隔
- ✅ 支持自定义颜色阈值和颜色
- ✅ 完善的错误处理和提示
- ✅ 详细的日志记录功能

### 技术特性
- ✅ 使用 TypeScript 开发，提供完整的类型安全
- ✅ 模块化的代码结构，易于维护和扩展
- ✅ 支持 API 请求重试机制（指数退避）
- ✅ 智能的窗口焦点检测
- ✅ 配置变更自动更新
- ✅ 完整的中文注释和文档

### 已知限制
- 仅支持单个 API 账户监控
- 数据刷新频率最小为 10 秒

### 计划功能
- [ ] 支持多账户监控
- [ ] 添加使用趋势图表
- [ ] 支持导出使用报告
- [ ] 添加使用警报通知
- [ ] 支持更多自定义配置选项

---

## 格式说明

- **新增功能** - 新添加的功能
- **改进** - 对现有功能的改进
- **修复** - Bug 修复
- **移除** - 移除的功能
- **安全** - 安全相关的更新
